<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student records</title>
    <link rel="stylesheet" href="./styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
</head>

<body >
    <h2 class="headpart">Student Status</h2>
    <div class="container">
      <span id="time"></span>
  </div>
  <br>
  <script>
      console.log("This is date and time tutorial");
      let now = new Date();
      console.log(now);

      let dt = new Date(1000);
      console.log(dt);

      // let newDate = new Date("2029-09-30");
      // console.log(newDate)

      // let newDate = new Date(year, month, date, hours, minutes, seconds, milliseconds);
      let newDate = new Date(3020, 4, 6, 9, 3, 2, 34);
      console.log(newDate);

      let yr = newDate.getFullYear();
      console.log("The year is ", yr);

      let dat = newDate.getDate();
      console.log("The date is ", dat);

      let month = newDate.getMonth();
      console.log("The month is ", month);

      let hours = newDate.getHours();
      console.log("The hours is ", hours);

      newDate.setDate(8);
      newDate.setMinutes(29);
      console.log(newDate)
      setInterval(updateTime, 1000);

      function updateTime() {
          time.innerHTML = new Date();
      }

  </script>
  <style>
    .container {
        font-size: 23px;
        background-color: rgb(144, 244, 242);
        border-radius: 4px;
        padding: 36px;
        margin: 2px;
        text-align: center;
        margin-left: 200px;
        height: 20px;
        width: 70%;
    }

    #time {
        font-weight: bold;
    }
</style>
    <table class="table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">finger_id</th>
            <th scope="col">Name</th>
            <th scope="col">Department</th>
            <th scope="col">Reg No.</th>
            <th scope="col">Year</th>
            <th scope="col">Entry Time</th>
            <th scope="col">Exit Time</th>
          </tr>
        </thead>
        <tbody id ="records">
        </tbody>
      </table>
      <script>
        // Initialize Firebase
            var config = {
              apiKey: "AIzaSyCjw_lTYsBJ5zTlB9k_0YYS70rNd1KSdfM",
              authDomain: "attendance-monitoring-st-42cfa.firebaseapp.com",
              databaseURL: "https://attendance-monitoring-st-42cfa-default-rtdb.firebaseio.com",
              projectId: "attendance-monitoring-st-42cfa",
              storageBucket: "attendance-monitoring-st-42cfa.appspot.com",
              messagingSenderId: "813507887953",
              appId: "1:813507887953:web:7b0fac2456725bc5134970"
            };
            firebase.initializeApp(config);

            // Create a reference to the database
            var database = firebase.database();

            // Retrieve data from the database
            database.ref("contactForm").once('value', function(snapshot) {
            // Handle the retrieved data here
            var data = snapshot.val();
            console.log(data);
            $.each(data, function(index, item) {
                var row = `<tr>
                    <th scope="col">${item.finger_id}</th>
                    <th scope="col">${item.name}</th>
                    <th scope="col">${item.department}</th>
                    <th scope="col">${item.regno}</th>
                    <th scope="col">${item.year}</th>
                    <th scope="col">${item.Entry_time}</th>
                    <th scope="col">${item.Exit_time}</th>
                    
                    </tr>`
                $('#records').append(row);
            });
        });

      </script>
</body>
</html>
